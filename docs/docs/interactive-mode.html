<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Mode Guide</title>
    <link rel="stylesheet" href="../css/design-system.css">
    <link rel="stylesheet" href="../css/main.css">
</head>
<body>
    <!-- Header -->
    {% include header.html %}


    <div class="doc-container">
        <div class="container">
            <div class="doc-content">

<div class="nav-breadcrumb"><a href="index.html">Documentation Home</a></div>
<h1>Interactive Mode Guide</h1>

<p>Capcat&#x27;s interactive mode provides a user-friendly menu interface for all operations without requiring command-line arguments or flags.</p>

<h2>Quick Start</h2>

<p>Launch interactive mode:</p>

<pre><code>./capcat catch
</code></pre>

<h2>Main Menu</h2>

<p>When you launch <code>./capcat catch</code>, you see:</p>

<pre><code>  What would you like me to do?

  &gt; Catch articles from a bundle of sources
    Catch articles from a list of sources
    Catch from a single source
    Catch a single article by URL
    Manage Sources (add/remove/configure)
    Exit

   (Use arrow keys to navigate)
</code></pre>

<h4>Navigation:</h4>
<ul>
<li>Arrow keys: Move between options</li>
<li>Enter: Select option</li>
<li>Ctrl+C: Exit at any time</li>
</ul>

<h2>Main Menu Options</h2>

<h3>1. Catch Articles from a Bundle</h3>

<p>Fetch articles from predefined source groups.</p>

<h4>Flow:</h4>
<ol>
<li>Select bundle (tech, news, science, ai, sports)</li>
<li>Choose HTML generation (yes/no)</li>
<li>Confirm and execute</li>
</ol>

<h4>Example:</h4>
<pre><code>  Select a news bundle and hit Enter for activation.

  &gt; tech - Technology News
    (IEEE, Mashable)

    news - General News
    (BBC News, The Guardian)

    science - Science News
    (Nature News, Scientific American)

    ai - AI &amp; Machine Learning
    (MIT News)

    sports - Sports News
    (BBC Sport)
</code></pre>

<h4>Bundle Auto-Discovery:</h4>
<p>Bundles automatically include:</p>
<ul>
<li>Sources explicitly listed in <code>bundles.yml</code></li>
<li>Sources with matching category from registry</li>
<li>Example: &quot;tech&quot; bundle includes all sources with <code>category: tech</code></li>
</ul>

<h4>Default Count:</h4>
<ul>
<li>Bundles fetch default number of articles per source (typically 30)</li>
<li>Cannot be changed interactively (use CLI for custom counts)</li>
</ul>

<h3>2. Catch Articles from a List of Sources</h3>

<p>Select multiple sources to fetch from simultaneously.</p>

<h4>Flow:</h4>
<ol>
<li>Select sources with spacebar (checkbox mode)</li>
<li>Press Enter to confirm selection</li>
<li>Choose HTML generation</li>
<li>Execute</li>
</ol>

<h4>Example:</h4>
<pre><code>  Select sources with &lt;space&gt; and press Enter to continue:

  [ ] hn              Hacker News
  [x] lb              Lobsters
  [x] iq              InfoQ
  [ ] bbc             BBC News
  [ ] guardian        The Guardian

   (Use &lt;space&gt; to select, &lt;enter&gt; to confirm)
</code></pre>

<h4>Tips:</h4>
<ul>
<li>Select as many sources as needed</li>
<li>Sources are grouped by category for easy browsing</li>
<li>No limit on number of selections</li>
</ul>

<h3>3. Catch from a Single Source</h3>

<p>Fetch articles from one specific source.</p>

<h4>Flow:</h4>
<ol>
<li>Select source from list</li>
<li>Choose HTML generation</li>
<li>Execute</li>
</ol>

<h4>Example:</h4>
<pre><code>  Select a source and hit Enter for activation.

  &gt; hn              Hacker News
    lb              Lobsters
    iq              InfoQ
    bbc             BBC News
    guardian        The Guardian
</code></pre>

<h4>Use Case:</h4>
<p>Testing a specific source or fetching focused content.</p>

<h3>4. Catch a Single Article by URL</h3>

<p>Download and convert a single article from any URL.</p>

<h4>Flow:</h4>
<ol>
<li>Enter article URL</li>
<li>Choose HTML generation</li>
<li>Execute</li>
</ol>

<h4>Example:</h4>
<pre><code>  (Use Ctrl+C to go to the Main Menu)

  Please enter the article URL: https://example.com/article

  Generate HTML for web browsing?
  &gt; Yes
    No
</code></pre>

<h4>Supported:</h4>
<ul>
<li>Any publicly accessible article URL</li>
<li>Works with sources not in registry</li>
<li>Automatic content extraction</li>
<li>Media download (images always, videos/docs with --media flag)</li>
</ul>

<h3>5. Manage Sources (add/remove/configure)</h3>

<p>Enter source management submenu.</p>

<p>See <a href="#source-management-submenu">Source Management Submenu</a> section below.</p>

<h3>6. Exit</h3>

<p>Leave interactive mode and return to shell.</p>

<h2>Source Management Submenu</h2>

<p>Accessed via &quot;Manage Sources&quot; from main menu.</p>

<div class="ascii-art">  Source Management - Select an option:

  &gt; Add New Source from RSS Feed
    Generate Custom Source Config
    Remove Existing Sources
    List All Sources
    Test a Source
    ────────────────
    Back to Main Menu

   (Use arrow keys to navigate)
</div>

<h3>Add New Source from RSS Feed</h3>

<p>Quick source addition from RSS/Atom feeds.</p>

<h4>Flow:</h4>
<ol>
<li>Enter RSS feed URL</li>
<li>System inspects feed and extracts metadata</li>
<li>Review auto-suggested source ID</li>
<li>Select category</li>
<li>Optionally add to bundle</li>
<li>Optionally test source</li>
</ol>

<h4>Example:</h4>
<pre><code>  Enter the RSS feed URL: https://example.com/article

[OK] Feed &#x27;TechCrunch&#x27; found.

Source ID: techcrunch
Category: tech
Add to bundle? Yes
  Select bundle: tech
[OK] Added &#x27;techcrunch&#x27; to bundle &#x27;tech&#x27;.

Test fetch? Yes
[OK] Source added and verified successfully!
</code></pre>

<h4>What It Creates:</h4>
<ul>
<li>YAML config in <code>sources/active/config_driven/configs/</code></li>
<li>Registry entry (automatic on next run)</li>
<li>Bundle entry (if selected)</li>
</ul>

<h3>Generate Custom Source Config</h3>

<p>Create comprehensive YAML configuration with all options.</p>

<h4>Flow:</h4>
<ol>
<li>Interactive wizard with detailed prompts</li>
<li>Configure all source parameters</li>
<li>YAML file generated and saved</li>
<li>Instructions provided for testing</li>
</ol>

<h4>Configurable Options:</h4>
<ul>
<li>Source ID and display name</li>
<li>Category (tech, news, science, ai, sports, other)</li>
<li>Base URL</li>
<li>Discovery method (RSS feed or HTML scraping)</li>
<li>Article link selectors (CSS/XPath)</li>
<li>Content extraction selectors</li>
<li>Image processing rules</li>
<li>Author/date extraction patterns</li>
<li>Rate limiting (seconds between requests)</li>
<li>Request timeout</li>
<li>Skip patterns (URLs to avoid)</li>
<li>Template selection</li>
</ul>

<h4>Output Location:</h4>
<pre><code>sources/active/config_driven/configs/sourceid.yaml
</code></pre>

<h4>Next Steps:</h4>
<pre><code># Review configuration
cat sources/active/config_driven/configs/newsource.yaml

# Test source
./capcat fetch newsource --count 5

# Add to bundle (edit bundles.yml)
vim sources/active/bundles.yml
</code></pre>

<h3>Remove Existing Sources</h3>

<p>Interactive source removal with safety features.</p>

<h4>Flow:</h4>
<ol>
<li>View list of available sources with usage stats</li>
<li>Select sources to remove (checkbox mode)</li>
<li>Review changes</li>
<li>Confirm removal</li>
<li>Automatic backup created</li>
<li>Sources removed from all locations</li>
</ol>

<h4>Safety Features:</h4>
<ul>
<li>Automatic backup to <code>.capcat-backups/</code></li>
<li>Usage analytics displayed</li>
<li>Confirmation required</li>
<li>Undo capability available</li>
</ul>

<h4>What Gets Removed:</h4>
<ul>
<li>Config files (<code>sources/active/config_driven/configs/</code> or <code>sources/active/custom/</code>)</li>
<li>Bundle definitions (from <code>bundles.yml</code>)</li>
<li>Registry cache</li>
</ul>

<h4>Backup Structure:</h4>
<div class="ascii-art">.capcat-backups/
└── backup_YYYYMMDD_HHMMSS/
    ├── configs/
    ├── bundles.yml
    └── manifest.json
</div>

<h4>Undo Last Removal:</h4>
<pre><code>./capcat remove-source --undo
</code></pre>

<h3>List All Sources</h3>

<p>Display all available sources grouped by category.</p>

<h4>Output Format:</h4>
<pre><code>--- Available Sources ---

TECH:
  - ieee           IEEE Spectrum
  - mashable       Mashable

TECHPRO:
  - hn             Hacker News
  - lb             Lobsters
  - iq             InfoQ

NEWS:
  - bbc            BBC News
  - guardian       The Guardian

SCIENCE:
  - nature         Nature News
  - scientificamerican Scientific American

AI:
  - mitnews        MIT News

SPORTS:
  - bbcsport       BBC Sport

Total: 11 sources
</code></pre>

<h4>Use Cases:</h4>
<ul>
<li>Audit available sources</li>
<li>Find source IDs for CLI commands</li>
<li>Check categorization</li>
<li>Identify gaps in coverage</li>
</ul>

<h3>Test a Source</h3>

<p>Validate source functionality by fetching sample articles.</p>

<h4>Flow:</h4>
<ol>
<li>Select source from list</li>
<li>System fetches 3 test articles</li>
<li>Results displayed</li>
<li>Success/failure indication</li>
</ol>

<h4>Example:</h4>
<pre><code>--- Testing Source: hn ---
Fetching 3 articles...

[OK] Article 1: &quot;New AI Model Released&quot;
[OK] Article 2: &quot;Programming Best Practices&quot;
[OK] Article 3: &quot;Tech Industry Trends&quot;

[OK] Source &#x27;hn&#x27; test completed
</code></pre>

<h4>Use Cases:</h4>
<ul>
<li>Verify new source works</li>
<li>Troubleshoot source issues</li>
<li>Check after configuration changes</li>
<li>Validate after website updates</li>
</ul>

<h4>What It Tests:</h4>
<ul>
<li>Network connectivity</li>
<li>Article discovery</li>
<li>Content extraction</li>
<li>Media download</li>
<li>Markdown conversion</li>
</ul>

<h2>HTML Generation</h2>

<p>All main operations prompt for HTML generation.</p>

<h4>Options:</h4>
<ul>
<li><h4>Yes</h4> Generate browsable HTML with styling</li>
<li><h4>No</h4> Markdown only</li>
</ul>

<h4>HTML Output:</h4>
<div class="ascii-art">Article_Folder/
├── article.md       # Always created
├── comments.md      # If source supports comments
├── images/          # Downloaded media
└── html/           # Only if HTML enabled
    ├── article.html
    └── comments.html
</div>

<h4>When to Use HTML:</h4>
<ul>
<li>Web browsing convenience</li>
<li>Sharing with non-technical users</li>
<li>Visual verification</li>
<li>Archival with styling</li>
</ul>

<h4>When to Skip:</h4>
<ul>
<li>CLI-only workflows</li>
<li>Minimal disk usage</li>
<li>Processing with markdown tools</li>
<li>Speed optimization</li>
</ul>

<h2>Execution Summary</h2>

<p>Before execution, interactive mode shows a summary:</p>

<pre><code>--------------------
SUMMARY
Action: bundle
Bundle: tech
Generate HTML: true
--------------------

Executing command...
</code></pre>

<h4>What Happens:</h4>
<ol>
<li>Arguments validated</li>
<li>Sources initialized</li>
<li>Articles fetched</li>
<li>Content processed</li>
<li>Media downloaded</li>
<li>Files written</li>
<li>HTML generated (if enabled)</li>
<li>Success confirmation</li>
</ol>

<h4>Return to Menu:</h4>
<p>After execution completes, press Enter to return to main menu.</p>

<h2>CLI Equivalents</h2>

<p>All interactive operations have CLI equivalents:</p>

<ul>
<li><h4>Bundle</h4> → <code>./capcat bundle tech --count 30</code></li>
<li><h4>List of sources</h4> → <code>./capcat fetch hn,bbc --count 30</code></li>
<li><h4>Single source</h4> → <code>./capcat fetch hn --count 30</code></li>
<li><h4>Single URL</h4> → <code>./capcat single https://example.com/article</code></li>
<li><h4>Add RSS source</h4> → <code>./capcat add-source --url <url></code></li>
<li><h4>Generate config</h4> → <code>./capcat generate-config</code></li>
<li><h4>Remove sources</h4> → <code>./capcat remove-source</code></li>
<li><h4>List sources</h4> → <code>./capcat list sources</code></li>
<li><h4>Test source</h4> → <code>./capcat fetch <source> --count 3</code></li>
</ul>

<h4>CLI Advantages:</h4>
<ul>
<li>Custom count values</li>
<li>Scriptable</li>
<li>Automation-friendly</li>
<li>Advanced flags (<code>--media</code>, <code>--verbose</code>, <code>-L</code>)</li>
</ul>

<h4>Interactive Advantages:</h4>
<ul>
<li>No flag memorization</li>
<li>Guided workflows</li>
<li>Visual feedback</li>
<li>Error prevention</li>
</ul>

<h2>Advanced Features</h2>

<h3>Screen Management</h3>

<p>Interactive mode automatically:</p>
<ul>
<li>Clears screen between menus</li>
<li>Maintains clean display</li>
<li>Shows selected options</li>
<li>Hides logging noise</li>
</ul>

<h3>Logging Suppression</h3>

<p>During menu navigation, logging is suppressed to prevent clutter.</p>

<h4>When Active:</h4>
<ul>
<li>Showing menus</li>
<li>Collecting input</li>
<li>Navigation</li>
</ul>

<h4>When Disabled:</h4>
<ul>
<li>During execution</li>
<li>Error messages</li>
<li>Progress updates</li>
</ul>

<h3>Session Continuity</h3>

<p>After each operation:</p>
<ul>
<li>Return to main menu</li>
<li>Previous selections not remembered</li>
<li>Fresh state each time</li>
<li>No persistent session</li>
</ul>

<h3>Error Handling</h3>

<p>Errors display helpful messages:</p>

<pre><code>Error adding source: Invalid RSS feed URL

Press Enter to continue...
</code></pre>

<h4>Recovery:</h4>
<ul>
<li>Returns to menu</li>
<li>No data loss</li>
<li>Can retry operation</li>
<li>Clear error description</li>
</ul>

<h2>Keyboard Shortcuts</h2>

<h4>Universal:</h4>
<ul>
<li>Arrow keys: Navigate options</li>
<li>Enter: Confirm selection</li>
<li>Ctrl+C: Cancel/go back</li>
<li>Space: Toggle checkbox (multi-select)</li>
</ul>

<h4>Text Input:</h4>
<ul>
<li>Tab: Autocomplete (if available)</li>
<li>Backspace: Delete character</li>
<li>Ctrl+U: Clear line</li>
<li>Ctrl+C: Cancel input</li>
</ul>

<h2>Best Practices</h2>

<h3>For New Users</h3>

<ol>
<li>Start with <h4>&quot;List All Sources&quot;</h4> to see what&#x27;s available</li>
<li>Test with <h4>&quot;Catch from a single source&quot;</h4> first</li>
<li>Use <h4>bundles</h4> once comfortable</li>
<li>Enable <h4>HTML generation</h4> for visual verification</li>
</ol>

<h3>For Source Management</h3>

<ol>
<li>Always <h4>test after adding</h4> a source</li>
<li>Use <h4>meaningful source IDs</h4> (lowercase, no spaces)</li>
<li><h4>Categorize correctly</h4> for bundle auto-discovery</li>
<li><h4>Remove unused sources</h4> periodically</li>
</ol>

<h3>For Daily Use</h3>

<ol>
<li><h4>Bundles</h4> for routine fetching</li>
<li><h4>List of sources</h4> for custom combinations</li>
<li><h4>Single URL</h4> for ad-hoc articles</li>
<li><h4>Test source</h4> before reporting issues</li>
</ol>

<h2>Troubleshooting</h2>

<h3>Menu Not Appearing</h3>

<pre><code># Check wrapper system
./capcat --help

# Try Python wrapper directly
python3 run_capcat.py catch

# Check dependencies
source venv/bin/activate
python -c &quot;import questionary&quot;
</code></pre>

<h3>Selection Not Working</h3>

<ul>
<li>Ensure terminal supports ANSI codes</li>
<li>Check keyboard/terminal compatibility</li>
<li>Try different terminal emulator</li>
<li>Use CLI commands as fallback</li>
</ul>

<h3>Source Not Listed</h3>

<h4>After adding a source:</h4>
<ol>
<li>Check config file was created</li>
<li>Verify YAML syntax (no tabs, proper indentation)</li>
<li>Restart Capcat to reload registry</li>
<li>Check error messages in logs</li>
</ol>

<h4>For existing sources:</h4>
<ol>
<li>Run <code>./capcat list sources</code></li>
<li>Check if source was removed</li>
<li>Verify source directory structure</li>
<li>Review registry discovery logs</li>
</ol>

<h3>Test Fetch Fails</h3>

<h4>Common Causes:</h4>
<ul>
<li>Network connectivity issues</li>
<li>Website structure changed</li>
<li>Anti-bot protection</li>
<li>Invalid selectors</li>
<li>Rate limiting</li>
</ul>

<h4>Debugging:</h4>
<pre><code># Detailed logging
./capcat -V fetch sourceid --count 3

# Check configuration
cat sources/active/config_driven/configs/sourceid.yaml

# Manual test
curl -I https://source-url.com
</code></pre>

<h2>Integration with Workflows</h2>

<h3>Development Workflow</h3>

<pre><code># 1. Add new source interactively
./capcat catch
  &gt; Manage Sources
  &gt; Add New Source from RSS Feed

# 2. Test thoroughly
./capcat catch
  &gt; Manage Sources
  &gt; Test a Source

# 3. Use in production
./capcat bundle tech --count 50
</code></pre>

<h3>Content Curation Workflow</h3>

<pre><code># Morning routine
./capcat catch
  &gt; Catch articles from a bundle
  &gt; tech
  &gt; Yes (HTML)

# Ad-hoc interesting article
./capcat catch
  &gt; Catch a single article by URL
  &gt; [paste URL]
</code></pre>

<h3>Maintenance Workflow</h3>

<pre><code># Weekly audit
./capcat catch
  &gt; Manage Sources
  &gt; List All Sources

# Remove outdated
./capcat catch
  &gt; Manage Sources
  &gt; Remove Existing Sources

# Verify remaining
./capcat catch
  &gt; Manage Sources
  &gt; Test a Source
</code></pre>

<h2>Implementation Details</h2>

<h3>Technology Stack</h3>

<ul>
<li><h4>UI Framework</h4> questionary (prompt_toolkit)</li>
<li><h4>Styling</h4> Custom ANSI color scheme (orange theme)</li>
<li><h4>Screen Control</h4> ANSI escape codes</li>
<li><h4>Input Handling</h4> Arrow keys, space, enter</li>
</ul>

<h3>Code Structure</h3>

<div class="ascii-art">core/
└── interactive.py                    # Main interactive module
    ├── start_interactive_mode()      # Main menu loop
    ├── _handle_bundle_flow()         # Bundle selection
    ├── _handle_fetch_flow()          # Multi-source selection
    ├── _handle_single_source_flow()  # Single source selection
    ├── _handle_single_url_flow()     # URL input
    ├── _handle_manage_sources_flow() # Source management submenu
    ├── _handle_add_source_from_rss() # RSS source addition
    ├── _handle_generate_config()     # Config generator
    ├── _handle_remove_source()       # Source removal
    ├── _handle_list_sources()        # Source listing
    ├── _handle_test_source()         # Source testing
    ├── _prompt_for_html()            # HTML generation prompt
    └── _confirm_and_execute()        # Execution handler
</div>

<h3>Color Scheme</h3>

<pre><code>custom_style = Style([
    (&#x27;questionmark&#x27;, &#x27;fg:#d75f00 bold&#x27;),  # Orange question mark
    (&#x27;question&#x27;, &#x27;bold&#x27;),                 # Bold question text
    (&#x27;selected&#x27;, &#x27;fg:#d75f00&#x27;),          # Orange for selected option
    (&#x27;pointer&#x27;, &#x27;fg:#d75f00 bold&#x27;),      # Orange pointer
    (&#x27;answer&#x27;, &#x27;fg:#d75f00&#x27;),            # Orange answer
])
</code></pre>

<h3>Integration Points</h3>

<h4>With CLI:</h4>
<ul>
<li>Uses same <code>run_app()</code> function</li>
<li>Constructs argument list programmatically</li>
<li>Handles <code>SystemExit</code> exceptions</li>
</ul>

<h4>With Core:</h4>
<ul>
<li>Imports from <code>cli</code> module</li>
<li>Uses <code>get_available_sources()</code></li>
<li>Uses <code>get_available_bundles()</code></li>
<li>Integrates with source registry</li>
</ul>

<h4>With Source System:</h4>
<ul>
<li>Source management commands</li>
<li>Registry operations</li>
<li>Backup manager</li>
<li>Analytics system</li>
</ul>

<h2>Comparison: Interactive vs CLI</h2>

<ul>
<li><h4>Learning Curve</h4> → Low</li>
<li><h4>Speed</h4> → Moderate</li>
<li><h4>Scriptable</h4> → No</li>
<li><h4>Custom Counts</h4> → No</li>
<li><h4>Media Flag</h4> → No</li>
<li><h4>Error Prevention</h4> → High</li>
<li><h4>Visual Feedback</h4> → Excellent</li>
<li><h4>Automation</h4> → Not suitable</li>
<li><h4>Documentation Needed</h4> → Minimal</li>
<li><h4>New User Friendly</h4> → Yes</li>
</ul>

<h4>Recommendation:</h4>
<ul>
<li><h4>Interactive</h4> Daily use, source management, new users</li>
<li><h4>CLI</h4> Scripts, custom parameters, advanced users, automation</li>
</ul>

<h2>See Also</h2>

<ul>
<li><a href="source-management-menu.html">Source Management Menu</a> - Detailed source management docs</li>
<li><a href="quick-start.html">Quick Start Guide</a> - Getting started with Capcat</li>
<li><a href="source-development.html">Source Development</a> - Creating custom sources</li>
<li><a href="tutorials/01-cli-commands-exhaustive.html">CLI Reference</a> - All CLI commands</li>
<li><a href="architecture.html">Architecture</a> - System design</li>
</ul>

<h2>Future Enhancements</h2>

<p>Potential additions to interactive mode:</p>

<ul>
<li>Custom count selection in bundles</li>
<li>Media flag toggle</li>
<li>Verbose output option</li>
<li>Configuration editing</li>
<li>Bundle creation/editing</li>
<li>Source statistics dashboard</li>
<li>Scheduling interface</li>
<li>Export/import configurations</li>
</ul>



<p>Interactive mode makes Capcat accessible to users of all skill levels while maintaining full power for advanced users through CLI commands.</p>


<script type="module">
  import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
    mermaid.initialize({
    startOnLoad: true,
    theme: 'base',
    themeVariables: {
      // Primary colors from design system (Capcat orange palette)
      primaryColor: '#FFD4B7',           // --orange-200
      primaryTextColor: '#201419',       // --ink
      primaryBorderColor: '#F1540E',     // --orange-500 / --accent-primary

      // Line and edge colors
      lineColor: '#58444c',              // --ink-medium

      // Secondary colors
      secondaryColor: '#FFEADB',         // --orange-100
      tertiaryColor: '#f9f8ed',          // --accent-cream-primary

      // Text colors
      textColor: '#201419',              // --ink
      mainBkg: '#FAF8EE',                // --cream

      // Node styling
      nodeBorder: '#F1540E',             // --accent-primary
      clusterBkg: '#faf2e7',             // --accent-cream-light
      clusterBorder: '#D44400',          // --orange-600 / --accent-hover

      // Font
      fontFamily: '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',
      fontSize: '16px'
    },
    flowchart: {
      nodeSpacing: 50,
      rankSpacing: 50,
      padding: 15,
      useMaxWidth: true,
      htmlLabels: true,
      curve: 'basis'
    }
  });

  // Add copy buttons to Mermaid diagrams after rendering
  document.addEventListener('DOMContentLoaded', function() {
    const mermaidDivs = document.querySelectorAll('.mermaid');

    mermaidDivs.forEach(function(mermaidDiv) {
      // Get the original Mermaid source code
      const mermaidSource = mermaidDiv.textContent;

      // Create container wrapper
      const container = document.createElement('div');
      container.className = 'mermaid-container';

      // Create copy button
      const copyBtn = document.createElement('button');
      copyBtn.className = 'mermaid-copy-btn';
      copyBtn.textContent = 'Copy Mermaid Code';
      copyBtn.setAttribute('title', 'Copy diagram code for Draw.io, Mermaid Live, etc.');

      copyBtn.addEventListener('click', function() {
        navigator.clipboard.writeText(mermaidSource).then(function() {
          copyBtn.textContent = 'Copied!';
          copyBtn.classList.add('copied');

          setTimeout(function() {
            copyBtn.textContent = 'Copy Mermaid Code';
            copyBtn.classList.remove('copied');
          }, 2000);
        });
      });

      // Wrap the mermaid div in container and add button
      mermaidDiv.parentNode.insertBefore(container, mermaidDiv);
      container.appendChild(mermaidDiv);
      container.appendChild(copyBtn);
    });
  });
</script>
    
    
    <script src="../js/main.js"></script>

            
<nav class="chapter-navigation" aria-label="Chapter navigation">
    <div class="next-chapter-content">
        <span class="next-chapter-label">Next Chapter</span>
        <span class="next-chapter-arrow" aria-hidden="true">→</span>
        <a href="source-management-menu.html" class="next-chapter-link" rel="next">Source Management</a>
    </div>
</nav>
</div>
        </div>
    </div>

    <!-- Footer -->
    {% include footer.html %}

    <!-- Back to Top Button -->
    <button id="backToTopBtn" title="Go to top">
        <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">
            <path d="M0 0h24v24H0V0z" fill="none"/>
            <path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z"/>
        </svg>
    </button>  </body>
