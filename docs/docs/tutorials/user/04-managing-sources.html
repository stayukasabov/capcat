<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Managing Your Sources</title>
    <link rel="stylesheet" href="../../../css/design-system.css">
    <link rel="stylesheet" href="../../../css/main.css">
</head>
<body>
    <!-- Header -->
    <div id="header-placeholder"></div>


    <div class="doc-container">
        <div class="container">
            <div class="doc-content">

<div class="nav-breadcrumb"><a href="../../index.html">Documentation Home</a> / <a href="../index.html">tutorials</a> / user</div>
<h1>Managing Your Sources</h1>

<p>Add, remove, test, and organize news sources in Capcat.</p>

<h2>What You&#x27;ll Learn</h2>

<ul>
<li>Add new RSS sources quickly</li>
<li>Remove unused sources safely</li>
<li>Test source health</li>
<li>Organize sources effectively</li>
</ul>

<h2>Quick Source Management</h2>

<h3>List Current Sources</h3>

<p>See what&#x27;s available:</p>

<pre><code>./capcat list sources
</code></pre>

<p>Output organized by category:</p>
<pre><code>TECH:
  - hn             Hacker News
  - lb             Lobsters
  - iq             InfoQ

NEWS:
  - bbc            BBC News
  - guardian       The Guardian

SCIENCE:
  - nature         Nature News

Total: 15 sources
</code></pre>

<h2>Adding New Sources</h2>

<h3>Method 1: Quick Add (RSS)</h3>

<p>Add an RSS source in one command:</p>

<pre><code>./capcat add-source --url https://techcrunch.com/feed/
</code></pre>

<p>Interactive prompts:</p>
<pre><code>[OK] Feed &#x27;TechCrunch&#x27; found.
Source ID: techcrunch
Category: tech
Add to bundle? Yes
  Bundle: tech
Test fetch? Yes
[OK] Source added successfully!
</code></pre>

<h3>Method 2: Interactive Add</h3>

<p>Use the visual menu:</p>

<pre><code>./capcat catch
# Select: Manage Sources
# Select: Add New Source from RSS Feed
# Paste URL
</code></pre>

<h3>Method 3: Custom Source Config</h3>

<p>For complex sources:</p>

<pre><code>./capcat generate-config
</code></pre>

<p>Interactive wizard for:</p>
<ul>
<li>Source ID and name</li>
<li>Category</li>
<li>Discovery method (RSS or HTML)</li>
<li>Content selectors</li>
<li>Image processing</li>
<li>Rate limiting</li>
</ul>

<h2>Removing Sources</h2>

<h3>Safe Removal with Backup</h3>

<p>Remove sources interactively:</p>

<pre><code>./capcat remove-source
</code></pre>

<p>Process:</p>
<pre><code>Select sources to remove:
  [ ] hn              Hacker News
  [x] oldsite         Old Site
  [x] discontinued    Discontinued

Confirm removal? Yes
[OK] Backup created: .capcat-backups/backup_20251126_100000/
[OK] 2 sources removed
</code></pre>

<h3>Preview Before Removing</h3>

<p>See what would be removed:</p>

<pre><code>./capcat remove-source --dry-run
</code></pre>

<p>Shows:</p>
<ul>
<li>Files that would be deleted</li>
<li>Bundle entries that would be removed</li>
<li>No actual changes made</li>
</ul>

<h3>Undo Removal</h3>

<p>Restore last removed sources:</p>

<pre><code>./capcat remove-source --undo
</code></pre>

<p>Or restore specific backup:</p>

<pre><code>./capcat remove-source --undo backup_20251126_100000
</code></pre>

<h2>Testing Sources</h2>

<h3>Test Single Source</h3>

<p>Verify a source works:</p>

<pre><code>./capcat fetch sourcename --count 3
</code></pre>

<p>Success indicators:</p>
<ul>
<li>Fetches 3 articles</li>
<li>No errors</li>
<li>Articles saved correctly</li>
</ul>

<h3>Test in Interactive Mode</h3>

<pre><code>./capcat catch
# Select: Manage Sources
# Select: Test a Source
# Choose source
# View results
</code></pre>

<h3>Troubleshoot Failed Sources</h3>

<p>If a source fails:</p>

<ol>
<li>Check the error message</li>
<li>Verify RSS feed still exists</li>
<li>Test with low count first: <code>--count 1</code></li>
<li>Check source configuration</li>
</ol>

<p>Common fixes:</p>
<pre><code># RSS feed might have changed
# Edit config
vim sources/active/config_driven/configs/sourcename.yaml

# Update feed_url if RSS moved
# Save and test again
./capcat fetch sourcename --count 3
</code></pre>

<h2>Source Organization</h2>

<h3>Group by Category</h3>

<p>Sources auto-group by category field in config.</p>

<p>View by category:</p>
<pre><code>./capcat list sources
</code></pre>

<h3>Add to Bundles</h3>

<p>Include source in bundle:</p>

<pre><code>vim sources/active/bundles.yml
</code></pre>

<p>Add to existing bundle:</p>
<pre><code>tech:
  sources:
    - hn
    - lb
    - newsource  # Add here
</code></pre>

<p>Or let bundle auto-discover by matching category:</p>
<ul>
<li>Bundle named &quot;tech&quot; auto-includes sources with category: &quot;tech&quot;</li>
<li>No manual editing needed</li>
</ul>

<h3>Create Source Categories</h3>

<p>When adding source, assign meaningful category:</p>
<ul>
<li>tech - Technology news</li>
<li>news - General news</li>
<li>science - Scientific articles</li>
<li>ai - AI/ML content</li>
<li>sports - Sports news</li>
</ul>

<h2>Finding RSS Feeds</h2>

<h3>Common RSS Feed Patterns</h3>

<p>Try these URL patterns:</p>

<pre><code>https://example.com/feed
https://example.com/rss
https://example.com/feed.xml
https://example.com/rss.xml
https://example.com/feed/
</code></pre>

<h3>Verify RSS Feed</h3>

<p>Test in browser first:</p>
<pre><code>https://techcrunch.com/feed/
</code></pre>

<p>Should show XML with articles.</p>

<h2>Source Configuration Files</h2>

<h3>Config-Driven Sources</h3>

<p>Location: <code>sources/active/config_driven/configs/</code></p>

<p>Simple YAML:</p>
<pre><code>display_name: &quot;Example News&quot;
base_url: &quot;https://example.com/&quot;
category: &quot;tech&quot;
timeout: 10.0
rate_limit: 1.0

article_selectors:
  - &quot;.headline a&quot;

content_selectors:
  - &quot;.article-content&quot;
</code></pre>

<h3>Custom Sources</h3>

<p>Location: <code>sources/active/custom/sourcename/</code></p>

<p>Contains:</p>
<ul>
<li><code>source.py</code> - Python implementation</li>
<li><code>config.yaml</code> - Configuration</li>
</ul>

<p>Use for complex sources with:</p>
<ul>
<li>Comment systems</li>
<li>Special authentication</li>
<li>Complex parsing logic</li>
</ul>

<h2>Maintenance Tasks</h2>

<h3>Monthly Source Check</h3>

<p>Test all sources:</p>

<pre><code># List sources
./capcat list sources

# Test each that matters to you
./capcat fetch hn --count 3
./capcat fetch bbc --count 3
./capcat fetch nature --count 3
</code></pre>

<h3>Clean Up Unused Sources</h3>

<p>Remove sources you don&#x27;t use:</p>

<pre><code>./capcat remove-source
# Select unused sources
# Confirm removal
</code></pre>

<h3>Update Source Configs</h3>

<p>If source changes their website:</p>

<pre><code># Edit config
vim sources/active/config_driven/configs/sourcename.yaml

# Update selectors or URLs
# Test
./capcat fetch sourcename --count 3
</code></pre>

<h2>Pro Tips</h2>

<h4>Quick Testing:</h4>
<ul>
<li>Always use <code>--count 3</code> for tests</li>
<li>Check both article content and images</li>
<li>Verify date is recent</li>
</ul>

<h4>Safe Removal:</h4>
<ul>
<li>Use <code>--dry-run</code> first</li>
<li>Backups are automatic</li>
<li>Can undo anytime</li>
</ul>

<h4>Organization:</h4>
<ul>
<li>Use clear source IDs (lowercase, no spaces)</li>
<li>Assign accurate categories</li>
<li>Add to appropriate bundles</li>
</ul>

<h4>Discovery:</h4>
<ul>
<li>Many sites have RSS feeds</li>
<li>Look for RSS icon in browser</li>
<li>Try common feed URL patterns</li>
</ul>

<h2>Common Issues</h2>

<h4>Source not found:</h4>
<pre><code># Refresh registry
./capcat list sources

# Verify file exists
ls sources/active/config_driven/configs/sourcename.yaml
</code></pre>

<h4>Feed URL changed:</h4>
<pre><code># Update config
vim sources/active/config_driven/configs/sourcename.yaml
# Change rss_url
# Test
./capcat fetch sourcename --count 3
</code></pre>

<h4>Source has anti-bot protection:</h4>
<ul>
<li>Use RSS feed instead of HTML scraping</li>
<li>RSS bypasses most anti-bot systems</li>
<li>Add source via RSS URL</li>
</ul>

<h2>Next Steps</h2>

<h4>Organize better:</h4>
<ul>
<li><a href="05-bundles.html">Bundles</a> - Group sources efficiently</li>
<li><a href="06-customizing-output.html">Customizing Output</a> - Control what you collect</li>
</ul>

<h4>Technical details:</h4>
<ul>
<li><a href="../04-source-system-exhaustive.html">Source System Comprehensive</a> - Complete source system reference</li>
<li><a href="../03-configuration-exhaustive.html">Configuration Comprehensive</a> - All configuration options</li>
</ul>

<h2>Quick Reference</h2>

<pre><code># Add source
./capcat add-source --url RSS_URL

# Remove source
./capcat remove-source

# Test source
./capcat fetch SOURCE --count 3

# List sources
./capcat list sources

# Generate config
./capcat generate-config

# Undo removal
./capcat remove-source --undo
</code></pre>


<script type="module">
  import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
    mermaid.initialize({
    startOnLoad: true,
    theme: 'base',
    themeVariables: {
      // Primary colors from design system (Capcat orange palette)
      primaryColor: '#FFD4B7',           // --orange-200
      primaryTextColor: '#201419',       // --ink
      primaryBorderColor: '#F1540E',     // --orange-500 / --accent-primary

      // Line and edge colors
      lineColor: '#58444c',              // --ink-medium

      // Secondary colors
      secondaryColor: '#FFEADB',         // --orange-100
      tertiaryColor: '#f9f8ed',          // --accent-cream-primary

      // Text colors
      textColor: '#201419',              // --ink
      mainBkg: '#FAF8EE',                // --cream

      // Node styling
      nodeBorder: '#F1540E',             // --accent-primary
      clusterBkg: '#faf2e7',             // --accent-cream-light
      clusterBorder: '#D44400',          // --orange-600 / --accent-hover

      // Font
      fontFamily: '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',
      fontSize: '16px'
    },
    flowchart: {
      nodeSpacing: 50,
      rankSpacing: 50,
      padding: 15,
      useMaxWidth: true,
      htmlLabels: true,
      curve: 'basis'
    }
  });

  // Add copy buttons to Mermaid diagrams after rendering
  document.addEventListener('DOMContentLoaded', function() {
    const mermaidDivs = document.querySelectorAll('.mermaid');

    mermaidDivs.forEach(function(mermaidDiv) {
      // Get the original Mermaid source code
      const mermaidSource = mermaidDiv.textContent;

      // Create container wrapper
      const container = document.createElement('div');
      container.className = 'mermaid-container';

      // Create copy button
      const copyBtn = document.createElement('button');
      copyBtn.className = 'mermaid-copy-btn';
      copyBtn.textContent = 'Copy Mermaid Code';
      copyBtn.setAttribute('title', 'Copy diagram code for Draw.io, Mermaid Live, etc.');

      copyBtn.addEventListener('click', function() {
        navigator.clipboard.writeText(mermaidSource).then(function() {
          copyBtn.textContent = 'Copied!';
          copyBtn.classList.add('copied');

          setTimeout(function() {
            copyBtn.textContent = 'Copy Mermaid Code';
            copyBtn.classList.remove('copied');
          }, 2000);
        });
      });

      // Wrap the mermaid div in container and add button
      mermaidDiv.parentNode.insertBefore(container, mermaidDiv);
      container.appendChild(mermaidDiv);
      container.appendChild(copyBtn);
    });
  });
</script>
    <script src="../../../js/main.js"></script>

            
<nav class="chapter-navigation" aria-label="Chapter navigation">
    <div class="next-chapter-content">
        <span class="next-chapter-label">Next Chapter</span>
        <span class="next-chapter-arrow" aria-hidden="true">â†’</span>
        <a href="05-bundles.html" class="next-chapter-link" rel="next">Tutorial 5: Working with Bundles</a>
    </div>
</nav>
</div>
        </div>
    </div>

    <!-- Footer -->
    <div id="footer-placeholder"></div>

    <!-- Back to Top Button -->
    <button id="backToTopBtn" title="Go to top">
        <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">
            <path d="M0 0h24v24H0V0z" fill="none"/>
            <path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z"/>
        </svg>
    </button>

    <script src="../../../js/includes-loader.js"></script>
  </body>
