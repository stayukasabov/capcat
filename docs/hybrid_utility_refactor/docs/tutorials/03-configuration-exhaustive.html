<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configuration Comprehensive Reference</title>
    <link rel="stylesheet" href="../../css/design-system.css">
    <link rel="stylesheet" href="../../css/main.css">
</head>
<body>
    <!-- Header -->
    <div id="header-placeholder"></div>


    <div class="doc-container">
        <div class="container">
            <div class="doc-content">

<div class="nav-breadcrumb"><a href="../index.html">Documentation Home</a> / tutorials</div>
<h1>Configuration Comprehensive Reference</h1>

<p>Complete documentation of EVERY configuration option, file, environment variable, and setting in Capcat.</p>

<p>Source: Application/core/config.py, Application/docs/configuration.md</p>

<h2>Configuration Hierarchy</h2>

<p>Settings are applied in this order (highest to lowest priority):</p>

<ol>
<li><h4>Command-line arguments</h4> - Immediate override (e.g., <code>--count 10</code>)</li>
<li><h4>Environment variables</h4> - Session-specific (e.g., <code>export CAPCAT_MAX_WORKERS=16</code>)</li>
<li><h4>Configuration files</h4> - Persistent settings (<code>capcat.yml</code>, <code>capcat.json</code>)</li>
<li><h4>Default values</h4> - Hard-coded in Application/core/config.py</li>
</ol>

<h4>Example Resolution:</h4>
<pre><code># capcat.yml has: default_count: 20
# Environment: export CAPCAT_DEFAULT_COUNT=40
# Command: ./capcat fetch hn --count 10

# Result: Uses 10 (CLI wins)
</code></pre>

<h2>Configuration Files</h2>

<h3>File Locations</h3>

<h4>Search Order:</h4>
<ol>
<li>Path specified with <code>--config FILE</code> flag</li>
<li><code>./capcat.yml</code> (current directory)</li>
<li><code>./capcat.json</code> (current directory)</li>
<li><code>~/.capcat/capcat.yml</code> (user home)</li>
<li><code>~/.capcat/capcat.json</code> (user home)</li>
</ol>

<h4>File Format Detection:</h4>
<ul>
<li><code>.yml</code> or <code>.yaml</code> - YAML format (recommended)</li>
<li><code>.json</code> - JSON format</li>
<li>Auto-detected based on extension</li>
</ul>

<h3>capcat.yml Structure</h3>

<p>Complete YAML configuration with ALL options:</p>

<pre><code># Application/capcat.yml - Complete configuration

# ============================================================
# NETWORK CONFIGURATION
# ============================================================
network:
  # HTTP Timeouts (seconds)
  connect_timeout: 10           # Connection establishment timeout
  read_timeout: 30              # Response read timeout (increased for complex articles)
  media_download_timeout: 60    # Media file download timeout
  head_request_timeout: 10      # HEAD request timeout for size checks

  # Connection Pooling
  pool_connections: 20          # Number of connection pools to cache
  pool_maxsize: 20             # Maximum connections per pool

  # User Agent
  user_agent: &quot;Capcat/2.0 (Personal news archiver)&quot;

  # Request Retries
  max_retries: 3               # Maximum retry attempts for failed requests
  retry_delay: 1.0             # Base delay between retries (seconds)

# ============================================================
# PROCESSING CONFIGURATION
# ============================================================
processing:
  # Concurrency Settings
  max_workers: 8               # Parallel ThreadPoolExecutor workers (1-32)

  # File Handling
  max_filename_length: 100     # Maximum filename length before truncation

  # Content Processing
  remove_script_tags: true     # Remove &lt;script&gt; tags from content
  remove_style_tags: true      # Remove &lt;style&gt; tags from content
  remove_nav_tags: true        # Remove &lt;nav&gt; tags from content

  # Media Processing
  download_images: true        # Always download images (embedded in articles)
  download_videos: false       # Download video files (requires --media flag)
  download_audio: false        # Download audio files (requires --media flag)
  download_documents: false    # Download PDF/document files (requires --media flag)

  # Output Settings
  create_comments_file: true   # Create separate comments.md file
  markdown_line_breaks: true   # Preserve line breaks in markdown

# ============================================================
# LOGGING CONFIGURATION
# ============================================================
logging:
  # Log Levels (DEBUG, INFO, WARNING, ERROR, CRITICAL)
  default_level: &quot;INFO&quot;        # Default log level for all loggers
  file_level: &quot;DEBUG&quot;          # Log level for file output
  console_level: &quot;INFO&quot;        # Log level for console output

  # Log Formatting
  use_colors: true             # Colored console output
  include_timestamps: true     # Include timestamps in logs
  include_module_names: true   # Include module/function names in logs

  # File Logging
  auto_create_log_dir: true    # Automatically create log directories
  max_log_file_size: 10485760  # Max log file size in bytes (10MB)
  log_file_backup_count: 5     # Number of backup log files to keep

# ============================================================
# UI CONFIGURATION
# ============================================================
ui:
  # Progress Animations
  progress_spinner_style: &quot;dots&quot;     # Spinner style: dots, wave, loading, pulse, bounce, modern
  batch_spinner_style: &quot;activity&quot;    # Batch spinner: activity, progress, pulse, wave, dots, scan
  progress_bar_width: 25             # Width of progress bars in characters
  show_progress_animations: true     # Enable/disable progress animations

  # Visual Feedback
  use_emojis: true                   # Use emojis in output (disable per CLAUDE.md)
  use_colors: true                   # Colored terminal output
  show_detailed_progress: false      # Show detailed article-level progress
</code></pre>

<h3>capcat.json Structure</h3>

<p>Complete JSON configuration (equivalent to YAML above):</p>

<pre><code>{
  &quot;network&quot;: {
    &quot;connect_timeout&quot;: 10,
    &quot;read_timeout&quot;: 30,
    &quot;media_download_timeout&quot;: 60,
    &quot;head_request_timeout&quot;: 10,
    &quot;pool_connections&quot;: 20,
    &quot;pool_maxsize&quot;: 20,
    &quot;user_agent&quot;: &quot;Capcat/2.0 (Personal news archiver)&quot;,
    &quot;max_retries&quot;: 3,
    &quot;retry_delay&quot;: 1.0
  },
  &quot;processing&quot;: {
    &quot;max_workers&quot;: 8,
    &quot;max_filename_length&quot;: 100,
    &quot;remove_script_tags&quot;: true,
    &quot;remove_style_tags&quot;: true,
    &quot;remove_nav_tags&quot;: true,
    &quot;download_images&quot;: true,
    &quot;download_videos&quot;: false,
    &quot;download_audio&quot;: false,
    &quot;download_documents&quot;: false,
    &quot;create_comments_file&quot;: true,
    &quot;markdown_line_breaks&quot;: true
  },
  &quot;logging&quot;: {
    &quot;default_level&quot;: &quot;INFO&quot;,
    &quot;file_level&quot;: &quot;DEBUG&quot;,
    &quot;console_level&quot;: &quot;INFO&quot;,
    &quot;use_colors&quot;: true,
    &quot;include_timestamps&quot;: true,
    &quot;include_module_names&quot;: true,
    &quot;auto_create_log_dir&quot;: true,
    &quot;max_log_file_size&quot;: 10485760,
    &quot;log_file_backup_count&quot;: 5
  },
  &quot;ui&quot;: {
    &quot;progress_spinner_style&quot;: &quot;dots&quot;,
    &quot;batch_spinner_style&quot;: &quot;activity&quot;,
    &quot;progress_bar_width&quot;: 25,
    &quot;show_progress_animations&quot;: true,
    &quot;use_emojis&quot;: true,
    &quot;use_colors&quot;: true,
    &quot;show_detailed_progress&quot;: false
  }
}
</code></pre>

<h2>Configuration Data Classes</h2>

<p>Source: Application/core/config.py</p>

<h3>NetworkConfig</h3>
<p>Location: Application/core/config.py:18</p>

<h4>Purpose:</h4> Network-related configuration settings.

<h4>All Fields:</h4>

<ul>
<li><h4>connect_timeout</h4> → int</li>
<li><h4>read_timeout</h4> → int</li>
<li><h4>media_download_timeout</h4> → int</li>
<li><h4>head_request_timeout</h4> → int</li>
<li><h4>pool_connections</h4> → int</li>
<li><h4>pool_maxsize</h4> → int</li>
<li><h4>user_agent</h4> → str</li>
<li><h4>max_retries</h4> → int</li>
<li><h4>retry_delay</h4> → float</li>
</ul>

<h4>Usage:</h4>
<pre><code>from core.config import NetworkConfig

network = NetworkConfig(
    connect_timeout=15,
    read_timeout=45,
    max_retries=5
)
</code></pre>

<h3>ProcessingConfig</h3>
<p>Location: Application/core/config.py:42</p>

<h4>Purpose:</h4> Processing-related configuration settings.

<h4>All Fields:</h4>

<ul>
<li><h4>max_workers</h4> → int</li>
<li><h4>max_filename_length</h4> → int</li>
<li><h4>remove_script_tags</h4> → bool</li>
<li><h4>remove_style_tags</h4> → bool</li>
<li><h4>remove_nav_tags</h4> → bool</li>
<li><h4>download_images</h4> → bool</li>
<li><h4>download_videos</h4> → bool</li>
<li><h4>download_audio</h4> → bool</li>
<li><h4>download_documents</h4> → bool</li>
<li><h4>create_comments_file</h4> → bool</li>
<li><h4>markdown_line_breaks</h4> → bool</li>
</ul>

<h4>Worker Count Guidelines:</h4>
<ul>
<li>1-4 workers: Low-end systems, slow networks</li>
<li>5-8 workers: Default, balanced performance</li>
<li>9-16 workers: High-end systems, fast networks</li>
<li>17-32 workers: Server-grade hardware, very fast networks</li>
</ul>

<h4>Usage:</h4>
<pre><code>from core.config import ProcessingConfig

processing = ProcessingConfig(
    max_workers=16,
    download_videos=True,
    max_filename_length=150
)
</code></pre>

<h3>UIConfig</h3>
<p>Location: Application/core/config.py:68</p>

<h4>Purpose:</h4> User interface and experience configuration settings.

<h4>All Fields:</h4>

<ul>
<li><h4>progress_spinner_style</h4> → str</li>
<li><h4>batch_spinner_style</h4> → str</li>
<li><h4>progress_bar_width</h4> → int</li>
<li><h4>show_progress_animations</h4> → bool</li>
<li><h4>use_emojis</h4> → bool</li>
<li><h4>use_colors</h4> → bool</li>
<li><h4>show_detailed_progress</h4> → bool</li>
</ul>

<h4>Spinner Styles:</h4>
<ul>
<li><code>dots</code>: Simple rotating dots</li>
<li><code>wave</code>: Wave animation</li>
<li><code>loading</code>: Loading bar</li>
<li><code>pulse</code>: Pulsing indicator</li>
<li><code>bounce</code>: Bouncing animation</li>
<li><code>modern</code>: Modern spinner</li>
<li><code>activity</code>: Activity indicator</li>
<li><code>progress</code>: Progress indicator</li>
<li><code>scan</code>: Scanning animation</li>
</ul>

<h4>Usage:</h4>
<pre><code>from core.config import UIConfig

ui = UIConfig(
    progress_spinner_style=&quot;wave&quot;,
    use_emojis=False,  # Per CLAUDE.md requirement
    show_detailed_progress=True
)
</code></pre>

<h3>LoggingConfig</h3>
<p>Location: Application/core/config.py:88</p>

<h4>Purpose:</h4> Logging-related configuration settings.

<h4>All Fields:</h4>

<ul>
<li><h4>default_level</h4> → str</li>
<li><h4>file_level</h4> → str</li>
<li><h4>console_level</h4> → str</li>
<li><h4>use_colors</h4> → bool</li>
<li><h4>include_timestamps</h4> → bool</li>
<li><h4>include_module_names</h4> → bool</li>
<li><h4>auto_create_log_dir</h4> → bool</li>
<li><h4>max_log_file_size</h4> → int</li>
<li><h4>log_file_backup_count</h4> → int</li>
</ul>

<h4>Log Levels:</h4>
<ul>
<li><code>DEBUG</code>: Detailed debugging information (most verbose)</li>
<li><code>INFO</code>: General information messages (default)</li>
<li><code>WARNING</code>: Warning messages</li>
<li><code>ERROR</code>: Error messages only</li>
<li><code>CRITICAL</code>: Critical errors only (least verbose)</li>
</ul>

<h4>Usage:</h4>
<pre><code>from core.config import LoggingConfig

logging = LoggingConfig(
    default_level=&quot;DEBUG&quot;,
    use_colors=False,
    max_log_file_size=20971520  # 20MB
)
</code></pre>

<h3>FetchNewsConfig</h3>
<p>Location: Application/core/config.py:108</p>

<h4>Purpose:</h4> Main configuration class containing all settings.

<h4>Structure:</h4>
<pre><code>@dataclass
class FetchNewsConfig:
    network: NetworkConfig = None
    processing: ProcessingConfig = None
    logging: LoggingConfig = None
    ui: UIConfig = None
</code></pre>

<h4>Methods:</h4>

<h3>__post_init__()</h3>
<pre><code>def __post_init__(self):
    &quot;&quot;&quot;Initialize sub-configs if not provided.&quot;&quot;&quot;
    if self.network is None:
        self.network = NetworkConfig()
    if self.processing is None:
        self.processing = ProcessingConfig()
    if self.logging is None:
        self.logging = LoggingConfig()
    if self.ui is None:
        self.ui = UIConfig()
</code></pre>

<h3>to_dict() -&gt; Dict[str, Any]</h3>
<pre><code>def to_dict(self) -&gt; Dict[str, Any]:
    &quot;&quot;&quot;Convert configuration to dictionary.&quot;&quot;&quot;
    return asdict(self)
</code></pre>

<h3>from_dict(data: Dict[str, Any]) -&gt; FetchNewsConfig</h3>
<pre><code>@classmethod
def from_dict(cls, data: Dict[str, Any]) -&gt; &quot;FetchNewsConfig&quot;:
    &quot;&quot;&quot;Create configuration from dictionary.&quot;&quot;&quot;
    network_data = data.get(&quot;network&quot;, {})
    processing_data = data.get(&quot;processing&quot;, {})
    logging_data = data.get(&quot;logging&quot;, {})

    return cls(
        network=NetworkConfig(**network_data),
        processing=ProcessingConfig(**processing_data),
        logging=LoggingConfig(**logging_data),
    )
</code></pre>

<h4>Usage:</h4>
<pre><code>from core.config import FetchNewsConfig, NetworkConfig, ProcessingConfig

config = FetchNewsConfig(
    network=NetworkConfig(connect_timeout=15),
    processing=ProcessingConfig(max_workers=16)
)

# Convert to dictionary
config_dict = config.to_dict()

# Create from dictionary
loaded_config = FetchNewsConfig.from_dict(config_dict)
</code></pre>

<h2>Environment Variables</h2>

<p>All configuration options can be overridden with environment variables using <code>CAPCAT_</code> prefix.</p>

<h3>Environment Variable Format</h3>

<h4>Pattern:</h4> <code>CAPCAT_&lt;SECTION&gt;_&lt;FIELD&gt;</code>

<h4>Case:</h4> All uppercase with underscores

<h4>Examples:</h4>
<pre><code># Network settings
export CAPCAT_NETWORK_CONNECT_TIMEOUT=15
export CAPCAT_NETWORK_READ_TIMEOUT=45
export CAPCAT_NETWORK_USER_AGENT=&quot;MyBot/1.0&quot;
export CAPCAT_NETWORK_MAX_RETRIES=5
export CAPCAT_NETWORK_RETRY_DELAY=2.0

# Processing settings
export CAPCAT_PROCESSING_MAX_WORKERS=16
export CAPCAT_PROCESSING_DOWNLOAD_VIDEOS=true
export CAPCAT_PROCESSING_MAX_FILENAME_LENGTH=150

# Logging settings
export CAPCAT_LOGGING_DEFAULT_LEVEL=DEBUG
export CAPCAT_LOGGING_USE_COLORS=false
export CAPCAT_LOGGING_FILE_LEVEL=INFO

# UI settings
export CAPCAT_UI_PROGRESS_SPINNER_STYLE=wave
export CAPCAT_UI_USE_EMOJIS=false
export CAPCAT_UI_SHOW_DETAILED_PROGRESS=true
</code></pre>

<h3>Complete Environment Variable List</h3>

<h4>Network:</h4>
<pre><code>CAPCAT_NETWORK_CONNECT_TIMEOUT=10
CAPCAT_NETWORK_READ_TIMEOUT=30
CAPCAT_NETWORK_MEDIA_DOWNLOAD_TIMEOUT=60
CAPCAT_NETWORK_HEAD_REQUEST_TIMEOUT=10
CAPCAT_NETWORK_POOL_CONNECTIONS=20
CAPCAT_NETWORK_POOL_MAXSIZE=20
CAPCAT_NETWORK_USER_AGENT=&quot;Capcat/2.0 (Personal news archiver)&quot;
CAPCAT_NETWORK_MAX_RETRIES=3
CAPCAT_NETWORK_RETRY_DELAY=1.0
</code></pre>

<h4>Processing:</h4>
<pre><code>CAPCAT_PROCESSING_MAX_WORKERS=8
CAPCAT_PROCESSING_MAX_FILENAME_LENGTH=100
CAPCAT_PROCESSING_REMOVE_SCRIPT_TAGS=true
CAPCAT_PROCESSING_REMOVE_STYLE_TAGS=true
CAPCAT_PROCESSING_REMOVE_NAV_TAGS=true
CAPCAT_PROCESSING_DOWNLOAD_IMAGES=true
CAPCAT_PROCESSING_DOWNLOAD_VIDEOS=false
CAPCAT_PROCESSING_DOWNLOAD_AUDIO=false
CAPCAT_PROCESSING_DOWNLOAD_DOCUMENTS=false
CAPCAT_PROCESSING_CREATE_COMMENTS_FILE=true
CAPCAT_PROCESSING_MARKDOWN_LINE_BREAKS=true
</code></pre>

<h4>Logging:</h4>
<pre><code>CAPCAT_LOGGING_DEFAULT_LEVEL=&quot;INFO&quot;
CAPCAT_LOGGING_FILE_LEVEL=&quot;DEBUG&quot;
CAPCAT_LOGGING_CONSOLE_LEVEL=&quot;INFO&quot;
CAPCAT_LOGGING_USE_COLORS=true
CAPCAT_LOGGING_INCLUDE_TIMESTAMPS=true
CAPCAT_LOGGING_INCLUDE_MODULE_NAMES=true
CAPCAT_LOGGING_AUTO_CREATE_LOG_DIR=true
CAPCAT_LOGGING_MAX_LOG_FILE_SIZE=10485760
CAPCAT_LOGGING_LOG_FILE_BACKUP_COUNT=5
</code></pre>

<h4>UI:</h4>
<pre><code>CAPCAT_UI_PROGRESS_SPINNER_STYLE=&quot;dots&quot;
CAPCAT_UI_BATCH_SPINNER_STYLE=&quot;activity&quot;
CAPCAT_UI_PROGRESS_BAR_WIDTH=25
CAPCAT_UI_SHOW_PROGRESS_ANIMATIONS=true
CAPCAT_UI_USE_EMOJIS=true
CAPCAT_UI_USE_COLORS=true
CAPCAT_UI_SHOW_DETAILED_PROGRESS=false
</code></pre>

<h3>Environment Variable Usage</h3>

<h4>Temporary Override:</h4>
<pre><code># Override for single command
CAPCAT_PROCESSING_MAX_WORKERS=16 ./capcat bundle tech

# Override multiple settings
CAPCAT_LOGGING_DEFAULT_LEVEL=DEBUG \
CAPCAT_PROCESSING_MAX_WORKERS=16 \
./capcat fetch hn --count 20
</code></pre>

<h4>Session-Wide:</h4>
<pre><code># Set for current shell session
export CAPCAT_PROCESSING_MAX_WORKERS=16
export CAPCAT_LOGGING_DEFAULT_LEVEL=DEBUG

./capcat bundle tech
./capcat fetch hn
</code></pre>

<h4>Persistent (Shell Profile):</h4>
<pre><code># Add to ~/.bashrc or ~/.zshrc
echo &#x27;export CAPCAT_PROCESSING_MAX_WORKERS=16&#x27; &gt;&gt; ~/.bashrc
echo &#x27;export CAPCAT_LOGGING_DEFAULT_LEVEL=INFO&#x27; &gt;&gt; ~/.bashrc
</code></pre>

<h2>Bundle Configuration</h2>

<p>Source: Application/sources/active/bundles.yml</p>

<h3>bundles.yml Structure</h3>

<p>Complete bundle configuration:</p>

<pre><code>bundles:
  tech:
    description: &quot;Consumer technology news sources&quot;
    sources:
      - ieee
      - mashable
    default_count: 30

  techpro:
    description: &quot;Professional developer news sources&quot;
    sources:
      - hn
      - lb
      - iq
    default_count: 30

  news:
    description: &quot;General news sources&quot;
    sources:
      - bbc
      - guardian
    default_count: 25

  science:
    description: &quot;Science and research sources&quot;
    sources:
      - nature
      - scientificamerican
    default_count: 20

  ai:
    description: &quot;AI, Machine Learning, and Rationality sources&quot;
    sources:
      - mitnews
    default_count: 20

  sports:
    description: &quot;World sports news sources&quot;
    sources:
      - bbcsport
    default_count: 25

  all:
    description: &quot;All available sources&quot;
    sources: []  # Populated dynamically from registry
    default_count: 10
</code></pre>

<h3>Bundle Fields</h3>

<h4>Required Fields:</h4>
<ul>
<li><code>description</code> (str) - Human-readable bundle description</li>
<li><code>sources</code> (list) - List of source IDs in bundle</li>
</ul>

<h4>Optional Fields:</h4>
<ul>
<li><code>default_count</code> (int) - Default article count (overridden by --count flag)</li>
</ul>

<h3>Bundle Auto-Discovery</h3>

<h4>Category Matching:</h4>
<p>Bundles automatically include sources with matching category:</p>

<pre><code># Bundle named &quot;tech&quot;
tech:
  sources:
    - ieee      # Explicit
    - mashable  # Explicit

# All sources with category: tech are automatically included:
# - gizmodo (category: tech, not in bundles.yml)
# - futurism (category: tech, not in bundles.yml)
</code></pre>

<h4>Implementation:</h4> Application/core/interactive.py:460
<pre><code>category_sources = registry.get_sources_by_category(name)
for source_id in category_sources:
    if source_id not in bundle_sources:
        bundle_sources.append(source_id)
</code></pre>

<h3>Creating Custom Bundles</h3>

<h4>Manual Editing:</h4>
<pre><code># Edit bundles file
vim sources/active/bundles.yml

# Add new bundle
custom:
  description: &quot;My custom bundle&quot;
  sources:
    - hn
    - bbc
    - nature
  default_count: 15
</code></pre>

<h4>Interactive Management:</h4>
<pre><code>./capcat catch
# Select: Manage Sources
# Select: Manage Bundles
# Select: Create New Bundle
</code></pre>

<h2>Source Configuration</h2>

<h3>Config-Driven Sources</h3>

<p>Location: sources/active/config_driven/configs/*.yaml</p>

<h4>Minimal Configuration:</h4>
<pre><code># sources/active/config_driven/configs/example.yaml
display_name: &quot;Example News&quot;
base_url: &quot;https://example.com/&quot;
category: &quot;tech&quot;
timeout: 10.0
rate_limit: 1.0

article_selectors:
  - &quot;.headline a&quot;

content_selectors:
  - &quot;.article-content&quot;
</code></pre>

<h4>Complete Configuration:</h4>
<pre><code># Complete config-driven source
display_name: &quot;Complete Example&quot;
base_url: &quot;https://example.com/&quot;
category: &quot;tech&quot;
timeout: 15.0
rate_limit: 2.0
supports_comments: false

# RSS Configuration
rss_config:
  feed_url: &quot;https://example.com/feed.xml&quot;
  use_rss_content: true
  content_field: &quot;description&quot;

# Article Discovery
article_selectors:
  - &quot;.headline a&quot;
  - &quot;.article-title a&quot;
  - &quot;h2.title a&quot;

# Content Extraction
content_selectors:
  - &quot;.article-content&quot;
  - &quot;.post-body&quot;
  - &quot;div.content&quot;

# URL Filtering
skip_patterns:
  - &quot;/about&quot;
  - &quot;/contact&quot;
  - &quot;/advertising&quot;
  - &quot;?utm_&quot;
  - &quot;/sponsored&quot;

# Image Processing
image_processing:
  selectors:
    - &quot;img&quot;
    - &quot;.content img&quot;
    - &quot;article img&quot;
  url_patterns:
    - &quot;example.com/&quot;
    - &quot;cdn.example.com/&quot;
  allow_extensionless: true
  skip_selectors:
    - &quot;.sidebar img&quot;
    - &quot;.navigation img&quot;
    - &quot;.header img&quot;

# Custom Headers
custom_config:
  headers:
    Accept: &quot;text/html,application/xhtml+xml&quot;
    Accept-Language: &quot;en-US,en;q=0.5&quot;
  user_agent: &quot;Custom Bot 1.0&quot;

  # Metadata Extraction
  meta_selectors:
    author: &quot;.byline .author&quot;
    date: &quot;.publish-date&quot;
    tags: &quot;.article-tags a&quot;

  # Content Cleaning
  remove_selectors:
    - &quot;.advertisement&quot;
    - &quot;.related-links&quot;
    - &quot;.social-share&quot;

# Template Configuration
template:
  variant: &quot;article-no-comments&quot;
  navigation:
    back_to_news_url: &quot;../../news.html&quot;
    back_to_news_text: &quot;Back to News&quot;
    has_comments: false
</code></pre>

<h3>Custom Sources</h3>

<p>Location: sources/active/custom/&lt;source-name&gt;/config.yaml</p>

<h4>Configuration:</h4>
<pre><code># sources/active/custom/hn/config.yaml
display_name: &quot;Hacker News&quot;
base_url: &quot;https://news.ycombinator.com/&quot;
category: &quot;tech&quot;
timeout: 10.0
rate_limit: 1.0
supports_comments: true

template:
  variant: &quot;article-with-comments&quot;
  navigation:
    back_to_news_url: &quot;../../news.html&quot;
    back_to_news_text: &quot;Back to News&quot;
    has_comments: true
    comments_url: &quot;comments.html&quot;
    comments_text: &quot;View Comments&quot;
</code></pre>

<h2>Configuration Management API</h2>

<h3>ConfigManager Class</h3>
<p>Location: Application/core/config.py:161</p>

<h4>Methods:</h4>

<h3>__init__()</h3>
<pre><code>def __init__(self):
    &quot;&quot;&quot;Initialize the configuration manager.&quot;&quot;&quot;
    self.logger = get_logger(__name__)
    self._config = FetchNewsConfig()
    self._config_loaded = False
</code></pre>

<h3>load_config(config_file: Optional[str] = None, load_env: bool = True) -&gt; FetchNewsConfig</h3>
<pre><code>def load_config(
    self, config_file: Optional[str] = None, load_env: bool = True
) -&gt; FetchNewsConfig:
    &quot;&quot;&quot;Load configuration from files and environment variables.

    Args:
        config_file: Path to config file (JSON or YAML)
        load_env: Whether to load environment variables

    Returns:
        Loaded configuration instance
    &quot;&quot;&quot;
</code></pre>

<h4>Behavior:</h4>
<ol>
<li>Return cached config if already loaded</li>
<li>Start with defaults (FetchNewsConfig())</li>
<li>Load from specified file or search default locations</li>
<li>Load environment variables if load_env=True</li>
<li>Cache and return config</li>
</ol>

<h4>Usage:</h4>
<pre><code>from core.config import ConfigManager

manager = ConfigManager()

# Load from default locations
config = manager.load_config()

# Load from specific file
config = manager.load_config(config_file=&quot;custom.yml&quot;)

# Load without environment variables
config = manager.load_config(load_env=False)
</code></pre>

<h3>Helper Functions</h3>

<h3>get_config() -&gt; FetchNewsConfig</h3>
<pre><code>def get_config() -&gt; FetchNewsConfig:
    &quot;&quot;&quot;Get the global configuration instance.&quot;&quot;&quot;
    global _config_manager
    if _config_manager is None:
        _config_manager = ConfigManager()
    return _config_manager.load_config()
</code></pre>

<h3>load_config(config_file: Optional[str] = None) -&gt; FetchNewsConfig</h3>
<pre><code>def load_config(config_file: Optional[str] = None) -&gt; FetchNewsConfig:
    &quot;&quot;&quot;Load configuration from file or defaults.&quot;&quot;&quot;
    global _config_manager
    if _config_manager is None:
        _config_manager = ConfigManager()
    return _config_manager.load_config(config_file)
</code></pre>

<h4>Usage:</h4>
<pre><code>from core.config import get_config, load_config

# Get global config
config = get_config()

# Load specific config
config = load_config(&quot;custom.yml&quot;)
</code></pre>

<h2>Configuration Examples</h2>

<h3>High-Performance Setup</h3>
<pre><code>network:
  connect_timeout: 15
  read_timeout: 60
  media_download_timeout: 120
  max_retries: 5

processing:
  max_workers: 16
  download_videos: true
  download_audio: true
  download_documents: true

logging:
  default_level: &quot;WARNING&quot;
  use_colors: true
</code></pre>

<h3>Debug Setup</h3>
<pre><code>network:
  connect_timeout: 30
  max_retries: 1

processing:
  max_workers: 4

logging:
  default_level: &quot;DEBUG&quot;
  file_level: &quot;DEBUG&quot;
  console_level: &quot;DEBUG&quot;
  include_timestamps: true
  include_module_names: true

ui:
  show_detailed_progress: true
</code></pre>

<h3>Minimal Setup</h3>
<pre><code>processing:
  download_videos: false
  download_audio: false
  download_documents: false

logging:
  default_level: &quot;ERROR&quot;
  use_colors: false

ui:
  show_progress_animations: false
  use_emojis: false
</code></pre>

<h2>Source Code Locations</h2>

<p>Configuration classes:</p>
<ul>
<li><code>NetworkConfig</code> - Application/core/config.py:18</li>
<li><code>ProcessingConfig</code> - Application/core/config.py:42</li>
<li><code>UIConfig</code> - Application/core/config.py:68</li>
<li><code>LoggingConfig</code> - Application/core/config.py:88</li>
<li><code>FetchNewsConfig</code> - Application/core/config.py:108</li>
<li><code>ConfigManager</code> - Application/core/config.py:161</li>
</ul>

<p>Helper functions:</p>
<ul>
<li><code>get_config()</code> - Application/core/config.py</li>
<li><code>load_config()</code> - Application/core/config.py</li>
</ul>

<h2>Related Documentation</h2>

<ul>
<li>CLI Commands: docs/tutorials/01-cli-commands-exhaustive.md</li>
<li>Source Development: docs/tutorials/06-source-development-exhaustive.md</li>
<li>API Reference: docs/tutorials/05-api-functions-exhaustive.md</li>
</ul>


<script type="module">
  import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
    mermaid.initialize({
    startOnLoad: true,
    theme: 'base',
    themeVariables: {
      // Primary colors from design system (Capcat orange palette)
      primaryColor: '#FFD4B7',           // --orange-200
      primaryTextColor: '#201419',       // --ink
      primaryBorderColor: '#F1540E',     // --orange-500 / --accent-primary

      // Line and edge colors
      lineColor: '#58444c',              // --ink-medium

      // Secondary colors
      secondaryColor: '#FFEADB',         // --orange-100
      tertiaryColor: '#f9f8ed',          // --accent-cream-primary

      // Text colors
      textColor: '#201419',              // --ink
      mainBkg: '#FAF8EE',                // --cream

      // Node styling
      nodeBorder: '#F1540E',             // --accent-primary
      clusterBkg: '#faf2e7',             // --accent-cream-light
      clusterBorder: '#D44400',          // --orange-600 / --accent-hover

      // Font
      fontFamily: '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',
      fontSize: '16px'
    },
    flowchart: {
      nodeSpacing: 50,
      rankSpacing: 50,
      padding: 15,
      useMaxWidth: true,
      htmlLabels: true,
      curve: 'basis'
    }
  });

  // Add copy buttons to Mermaid diagrams after rendering
  document.addEventListener('DOMContentLoaded', function() {
    const mermaidDivs = document.querySelectorAll('.mermaid');

    mermaidDivs.forEach(function(mermaidDiv) {
      // Get the original Mermaid source code
      const mermaidSource = mermaidDiv.textContent;

      // Create container wrapper
      const container = document.createElement('div');
      container.className = 'mermaid-container';

      // Create copy button
      const copyBtn = document.createElement('button');
      copyBtn.className = 'mermaid-copy-btn';
      copyBtn.textContent = 'Copy Mermaid Code';
      copyBtn.setAttribute('title', 'Copy diagram code for Draw.io, Mermaid Live, etc.');

      copyBtn.addEventListener('click', function() {
        navigator.clipboard.writeText(mermaidSource).then(function() {
          copyBtn.textContent = 'Copied!';
          copyBtn.classList.add('copied');

          setTimeout(function() {
            copyBtn.textContent = 'Copy Mermaid Code';
            copyBtn.classList.remove('copied');
          }, 2000);
        });
      });

      // Wrap the mermaid div in container and add button
      mermaidDiv.parentNode.insertBefore(container, mermaidDiv);
      container.appendChild(mermaidDiv);
      container.appendChild(copyBtn);
    });
  });
</script>
    <script src="../../js/main.js"></script>

            
<nav class="chapter-navigation" aria-label="Chapter navigation">
    <div class="next-chapter-content">
        <span class="next-chapter-label">Next Chapter</span>
        <span class="next-chapter-arrow" aria-hidden="true">→</span>
        <a href="04-source-system-exhaustive.html" class="next-chapter-link" rel="next">Tutorial 4: Source System (Comprehensive)</a>
    </div>
</nav>
</div>
        </div>
    </div>

    <!-- Footer -->
    <div id="footer-placeholder"></div>

    <!-- Back to Top Button -->
    <button id="backToTopBtn" title="Go to top">
        <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">
            <path d="M0 0h24v24H0V0z" fill="none"/>
            <path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z"/>
        </svg>
    </button>

    <script src="../../../js/includes-loader.js"></script>
  </body>
