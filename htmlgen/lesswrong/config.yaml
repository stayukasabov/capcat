# HTML Generation Configuration for LessWrong
# Compartmentalized configuration for source-specific behavior

source_id: "lesswrong"
display_name: "LessWrong"

# Comment handling configuration
comments:
  enabled: true
  pattern: '\*\*Anonymous\*\*\s*\(<a[^>]*>profile</a>\)'  # LessWrong HTML format: **Anonymous** (<a href="...">profile</a>)
  conditional_display: true  # Only show comment links when comments exist
  no_comments_message: "No comments found for this article at the moment."
  count_threshold: 1

# Navigation configuration
navigation:
  breadcrumb_style: "academic"
  show_source_link: true
  date_format: "DD MMM YYYY"
  back_to_news_text: "Back to News"
  view_comments_text: "View Comments"
  back_to_article_text: "Back to Article"

# Layout configuration
layout:
  template_set: "base"  # Use base templates (can be changed to "custom" for LessWrong-specific templates)
  custom_css_classes:
    - "lesswrong-style"
    - "rationality-focused"
    - "academic"
  # Custom templates can be added in htmlgen/lesswrong/templates/ to override base templates

# Directory pattern matching
directory_patterns:
  - "lesswrong"
  - "LessWrong"

# Bundle configuration
bundle:
  category: "ai"  # LessWrong is in AI category
  priority: 1

# Metadata configuration
meta:
  description_source: "excerpt"
  show_read_time: true
  show_tags: true
  show_publish_date: true
  author_display: "full"
  social_sharing: false

# Content processing configuration
content:
  remove_ads: true
  clean_tracking: true
  preserve_images: true
  image_optimization: "none"
  code_highlighting: true
  math_rendering: true  # LessWrong often has mathematical content

# Advanced configuration
advanced:
  cache_strategy: "template"
  rate_limiting:
    enabled: false

  # LessWrong-specific content processing hooks
  preprocessing_hooks:
    - "clean_lesswrong_ui_elements"
    - "normalize_rationality_terminology"

  postprocessing_hooks:
    - "enhance_academic_formatting"